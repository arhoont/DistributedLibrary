{% extends "library/base.html" %}
{% csrf_token %}
{% load static %}

{% block title %}Распределенная библиотека{% endblock %}
{% block include %}
    <link rel="stylesheet" href="{% static "css/book.css" %}">
    <script type="text/javascript" charset="utf-8" src="{% static "js/bookadd.js" %}"></script>
{% endblock %}

{% block content %}
    <div id="div-bookAdd" class="dialogForm">
        <div class="form-title">Добавить книгу</div>

        <div class="form-sub-title"></div>
        <img src="img/notbook.jpg" id="bookimage">

        <div class="flR">
            <form id="bookForm" method="post">
                <table>
                    <tbody>
                    <tr>
                        <td><label for="balink">Ссылка на OZON.ru:</label></td>
                        <td>
                            <div class="input-container">
                                <input name="balink" id="balink" type="text">
                                <input  type="button" class="isButton greenButton" id="loadB"
                                       value="Загрузить"/>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="baisbn">ISBN:</label></td>
                        <td>
                            <div class="input-container">
                                <input name="baisbn" id="baisbn" type="text" required>

                                <div id='isbnspan' class="tick"></div>

                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="batitle">Название:</label></td>
                        <td>
                            <div class="input-container">
                                <input name="batitle" id="batitle" type="text" required>
                                <div id='titlespan' class="tick"></div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="baauth">Авторы:</label></td>

                        <td>
                            <div class="input-container">
                            <span id="baauth">
                            </span>
                                <input type="button" class="isButton plusBut" value="+" id="addAuth"/></input>
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td><label for="balang">Язык:</label></td>
                        <td>
                            <div class="input-container">
                                <select type="text" name="balang" id="balang" class="flR"/>
                                {% for lang in languages %}
                                    <option value="{{ lang.language }}"> {{ lang.language }} </option>
                                {% endfor %}
                                <option value="15">--добавить--</option>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="bakeyw">Ключевые слова:</label></td>
                        <td>
                            <div class="input-container">
                            <span id="bakeyw">
                            </span>
                                <input type="button" class="isButton plusBut" value="+" id="addKeyW"/></input>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><label>Ценность:</label></td>
                        <td>
                            <div class="input-container" id="valCont">
                                <div id="radioset">
                                    <input class="valR" type="radio" id="radio1" name="radio" value="1"><label
                                        for="radio1" class="radio">+</label>
                                    <input class="valR" type="radio" id="radio2" name="radio" value="2"
                                           checked="checked"><label for="radio2" class="radio">++</label>
                                    <input class="valR" type="radio" id="radio3" name="radio" value="3"><label
                                        for="radio3" class="radio">+++</label>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="badisc">Описание:</label></td>
                        <td>
                            <div class="input-container">
                                <textarea name="badisc" id="badisc"></textarea>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>&nbsp;</td>
                        <td>
                            <span id='toolSpan'><input type="submit" class="isButton greenButton" value="Добавить"
                                                       id="addBookBut"/></span>
                        </td>
                    </tr>
                    <tr>
                        <td>&nbsp;</td>
                        <td>
                            <div id='errBook'></div>
                        </td>
                    </tr>
                    </tbody>
                </table>

            </form>

        </div>
    </div>
    <div id="dialogAuthors" style="display: none">
        <label for="dAuthInput">Автор:</label>
        <input type="text" id="dAuthInput" name="dAuthInput" placeholder="Имя Фамилия" value=""/>
        <span class="subtitle">Выберите автора</span>
        <ul class="dAuthlist">
            <script>
                var authors = [];
                {% for auth in authors %}
                    authors.push("{{ auth.fname }} {{ auth.lname }}");
                {% endfor %}
            </script>
        </ul>
    </div>

    <div id="dialogKeywords" style="display: none">
        <label for="dKeyInput">Слово:</label>
        <input type="text" id="dKeyInput" name="dKeyInput" value=""/>
        <span class="subtitle">Выберите слово</span>
        <ul class="dKeyList">
            <script>
                var keywords = [];
                {% for key in keywords %}
                    keywords.push("{{ key.word }}");
                {% endfor %}
            </script>
        </ul>
    </div>
{% endblock %}